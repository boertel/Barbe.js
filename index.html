<!doctype html>
<html>
<head>
	<title>Barbe.js</title>
    <link href="http://fonts.googleapis.com/css?family=Droid+Serif|Lustria|Droid+Sans+Mono" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="./barbe.css">
</head>

<body>

<header>
    <h1><span class="barbe">Barbe</span>.js</h1>
    <!--p class="definition">from the french, barbe, meaning beard</p-->
</header>
<p>Attach a template to an anchor.</p>

<h2>Step by step</h2>
<p>In this example, we use <a href="https://mustache.github.com" target="_blank">Mustache</a> templates.</p>

<h3>1. Create your template</h3>
<div class="code">
&lt;script type="text/html" id="my_template" data-anchor="my_anchor"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;This is a template building with {{ name }}.<br>&lt;/script&gt;
</div>

<h3>2. Place your anchor</h3>
<div class="code">
&lt;div id="my_anchor"&gt;&lt/div&gt;
</div>

<h3>3. Initialize the template</h3>
<div class="code">
&lt;script&gt;<br>&nbsp;&nbsp;&nbsp;Barbe.my_template({name: "Barbe.js"});<br>&lt;/script&gt;
</div>

<h3>4. Result</h3>
<div class="code">
&lt;div id="my_anchor"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;This is a template building with Barbe.js.<br>&lt/div&gt;
</div>


<h2>More Options</h2>
<h5>Use another template system</h5>
<p>By default, Barbe is using <a href="https://mustache.github.com" target="_blank">Mustache</a> but you can use your favorite template system such as <a href="http://twitter.github.com/hogan.js/" target="_blank">Hogan</a> or <a href="http://handlebarsjs.com/" target="_blank">Handlersbar</a>.
<div class="code">
Barbe.templateSystem.compile = Mustache.to_html;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//</span>
Barbe.templateSystem.type = ["text/html"];&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//</span>
</div>


<h5>Populate a template with an API response</h5>
<p>Most of the populated templates use an API response, that's why Barbe provides a easy way to populate the templates.</p>
<div class="code">
var view = new Barbe.View({<br>&nbsp;&nbsp;&nbsp;&nbsp;template: "api_template",<br>
&nbsp;&nbsp;&nbsp;&nbsp;provider: function (data, callback) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.ajax({<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: "get",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url: "/api/v1/user",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success: function (response) {,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback.call(this, response);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
});
</div>

<footer>
    <ul>
        <li><a href="https://twitter.com/boertel" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @boertel</a></li>
    </ul>
</footer>

<!--div id="simple"></div>
<div id="with_data"></div>
<div id="with_altered_data"></div>
<div id="simple_draw"></div>
<div id="anchor"></div-->

<script type="text/html" id="template_simple">
Simple test with no data
</script>

<script type="text/html" id="template_data">
Test with data: {{ test }}
</script>

<script type="text/html" id="template_altered_data">
Test with altered data: {{ test }} / {{ testUppercase }}
</script>

<script type="text/html" id="template_simple_draw">
drawing function
</script>

<script type="text/html" id="template_anchor" data-anchor="anchor">
template with an anchor
</script>

<script type="text/html" id="template_anchor_and_callback" data-anchor="anchor" data-callback="callback">
template with an anchor and callback
</script>

<script type="text/javascript" src="../js/mustache.js"></script>
<script type="text/javascript" src="./barbe.js"></script>

<script type="text/javascript">
var simple = new Barbe.View({
    template: "template_simple",
    anchor: "simple"
}).draw();

var simpleData = new Barbe.View({
    template: "template_data",
    anchor: "with_data",
    data: {
        test: "this is data coming from the view."
    }
}).draw();

var alteredData = new Barbe.View({
    template: "template_altered_data",
    anchor: "with_altered_data",
    data: {
        test: "this is data coming from the view."
    },
    provider: function (data, callback) {
        data.testUppercase = data.test.toUpperCase();
        callback.call(this, data);
    }
}).draw();

var simpleDraw = new Barbe.View({
    template: "template_simple_draw",
    anchor: "simple_draw"
}).draw(function (template) {
    template.style.color = "purple";
});

Barbe.template_anchor();
Barbe.template_anchor_and_callback()

</script>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

</body>
</html>
